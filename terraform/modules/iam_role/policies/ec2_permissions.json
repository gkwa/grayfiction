{
    "Version": "2012-10-17",
    "Statement": [
        {
            "Effect": "Allow",
            "Action": ["ec2:RunInstances", "ec2:DescribeImages", "ec2:DescribeInstances", "ec2:DescribeAccountAttributes", "ec2:DescribeRegions"],
            "Resource": "*"
        },
        {
            "Effect": "Allow",
            "Action": ["ec2:TerminateInstances", "ec2:StopInstances"],
            "Resource": "arn:aws:ec2:*:*:instance/*",
            "Condition": {
                "StringEquals": {
                    "ec2:ResourceTag/Name": ["northflier-packer-build", "grayfiction"]
                }
            }
        },
        {
            "Effect": "Allow",
            "Action": ["ec2:RequestSpotFleet", "ec2:CancelSpotFleetRequests", "ec2:DescribeSpotFleetRequests", "ec2:DescribeSpotFleetInstances", "ec2:DescribeSpotInstanceRequests"],
            "Resource": "*"
        },
        {
            "Effect": "Allow",
            "Action": "iam:PassRole",
            "Resource": "*"
        },
        {
            "Effect": "Allow",
            "Action": ["ec2:GetLaunchTemplateData", "ec2:DescribeLaunchTemplates", "ec2:CreateLaunchTemplate", "ec2:DeleteLaunchTemplate"],
            "Resource": "*"
        },
        {
            "Effect": "Allow",
            "Action": "ec2:CreateTags",
            "Resource": "*"
        }
    ]
}
